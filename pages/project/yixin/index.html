<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>亦心的沟通宝典beta | AI沟通助手</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+SC:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/yixin.css">
</head>
<body>
    <!-- 侧边栏遮罩层 -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- 侧边栏 -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <button class="sidebar-new-chat" id="newChatBtn">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M8 2V14M2 8H14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>新建对话</span>
            </button>
            <button class="sidebar-close" id="sidebarCloseBtn" title="关闭侧边栏">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
        </div>
        
        <div class="sidebar-content">
            <div class="sidebar-section">
                <div class="sidebar-section-title">对话历史</div>
                <div class="chat-history-list" id="chatHistoryList">
                    <div class="chat-history-empty">暂无对话历史</div>
                </div>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <button class="sidebar-action-btn" id="settingsBtn" title="设置">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M13.6569 6.34315L12.2426 4.92893C12.0511 4.73741 11.7949 4.63281 11.5288 4.63281H4.47124C4.20514 4.63281 3.94892 4.73741 3.7574 4.92893L2.34318 6.34315" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M2.34315 9.65685L3.75737 11.0711C3.94889 11.2626 4.20511 11.3672 4.47121 11.3672H11.5288C11.7949 11.3672 12.0511 11.2626 12.2426 11.0711L13.6568 9.65685" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>设置</span>
            </button>
            <button class="sidebar-action-btn" id="themeToggleBtn" title="切换主题">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="theme-icon-light">
                    <circle cx="8" cy="8" r="3.5" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M8 2V4M8 12V14M14 8H12M4 8H2M12.7279 3.27208L11.3137 4.68629M4.68629 11.3137L3.27208 12.7279M13.6569 3.27208L12.2426 4.68629M4.68629 11.3137L3.27208 13.6569" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="theme-icon-dark" style="display: none;">
                    <path d="M8 2C8 2 6 4 6 8C6 12 8 14 8 14M8 2C8 2 10 4 10 8C10 12 8 14 8 14M8 2V1M8 14V15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M3 8C3 8 4 6 6 6M13 8C13 8 12 6 10 6M3 8C3 8 4 10 6 10M13 8C13 8 12 10 10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>主题</span>
            </button>
        </div>
    </aside>
    
    <div class="app-container">
        <!-- 顶部导航栏 -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <button class="sidebar-toggle" id="sidebarToggle" title="打开侧边栏">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M3 5H17M3 10H17M3 15H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <a href="../../index.html" class="back-link">← 返回</a>
                    <h1 class="app-title">亦心的沟通宝典beta</h1>
                </div>
                <div class="header-right">
                    <button class="header-btn" id="clearBtn" title="清空对话">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M2 2L14 14M14 2L2 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- 主聊天区域 -->
        <main class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <!-- 欢迎消息 -->
                <div class="message-group assistant">
                    <div class="message-avatar">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2C5.58 2 2 5.58 2 10C2 14.42 5.58 18 10 18C14.42 18 18 14.42 18 10C18 5.58 14.42 2 10 2ZM10 16C6.69 16 4 13.31 4 10C4 6.69 6.69 4 10 4C13.31 4 16 6.69 16 10C16 13.31 13.31 16 10 16Z" fill="currentColor"/>
                            <path d="M10 6C9.45 6 9 6.45 9 7V9C9 9.55 9.45 10 10 10C10.55 10 11 9.55 11 9V7C11 6.45 10.55 6 10 6ZM10 12C9.45 12 9 12.45 9 13C9 13.55 9.45 14 10 14C10.55 14 11 13.55 11 13C11 12.45 10.55 12 10 12Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            <p>嗨，我是亦心的沟通宝典beta。告诉我你的场景，我来帮你把话说得更巧、更稳、更有分寸。</p>
                        </div>
                    </div>
                </div>

                <!-- 快捷提示（仅在无消息时显示） -->
                <div class="suggestions-container" id="suggestionsContainer">
                    <div class="suggestions-title">试试这些问题：</div>
                    <div class="suggestions-grid">
                        <button class="suggestion-chip" data-prompt="帮我优化一次职场的向上沟通，用更礼貌且坚定的语气。">
                            <span>职场向上沟通</span>
                        </button>
                        <button class="suggestion-chip" data-prompt="模拟一场客户需求澄清的对话，提醒我规避表达雷区。">
                            <span>客户需求澄清</span>
                        </button>
                        <button class="suggestion-chip" data-prompt="给出在朋友间化解尴尬的幽默回复。">
                            <span>社交化解尴尬</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 输入区域（固定在底部） -->
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea 
                        id="userInput" 
                        rows="1" 
                        placeholder="发送消息..."
                        autocomplete="off"
                        spellcheck="false"
                    ></textarea>
                    <button id="sendBtn" class="send-button" title="发送 (Enter)" aria-label="发送消息">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="send-icon">
                            <path d="M16.5 1.5L1.5 9L16.5 16.5M16.5 1.5L11.25 9L16.5 16.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="loading-icon" style="display: none;">
                            <circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-dasharray="44" stroke-dashoffset="11">
                                <animate attributeName="stroke-dasharray" dur="1.5s" values="0 44;22 22;0 44;0 44" repeatCount="indefinite"/>
                                <animate attributeName="stroke-dashoffset" dur="1.5s" values="0;-11;-22;-33" repeatCount="indefinite"/>
                            </circle>
                        </svg>
                    </button>
                </div>
                <div class="input-footer">
                    <span class="input-hint">亦心可以犯错。请验证重要信息。</span>
                </div>
            </div>
        </main>
    </div>

    <!-- 设置面板 -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-panel-content">
            <div class="settings-panel-header">
                <h2>设置</h2>
                <button class="settings-close" id="settingsCloseBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="settings-panel-body">
                <div class="settings-item">
                    <label class="settings-label">模型</label>
                    <select class="settings-select" id="modelSelect">
                        <option value="DouBao1.5Pro" selected>DouBao1.5Pro</option>
                    </select>
                </div>
                <div class="settings-item">
                    <label class="settings-label">温度</label>
                    <div class="settings-slider-container">
                        <input type="range" class="settings-slider" id="temperatureSlider" min="0" max="1" step="0.1" value="0.6">
                        <span class="settings-slider-value" id="temperatureValue">0.6</span>
                    </div>
                </div>
                <div class="settings-item">
                    <label class="settings-label">关于</label>
                    <div class="settings-info">
                        <p>亦心的沟通宝典beta</p>
                        <p class="settings-info-sub">基于大模型的智能沟通助手</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/yixin.js"></script>
</body>
</html>

